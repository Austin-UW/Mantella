(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e,t,n){e.exports=n(438)},287:function(e,t,n){},332:function(e,t,n){},438:function(e,t,n){"use strict";n.r(t);var a=n(113),r=n.n(a),o=n(149),i=n(10),c=n(0),l=n.n(c),s=n(14),u=(n(287),n(16)),d=n(209),m=n(53),p=n(31),g=n(46),f=n(243),b=n(244),E=n(21),j={user:null,pomodoro:{paused:!0,working:!0,selectingTask:!1,selectedTaskId:null,currSeconds:1500,breakSeconds:300,workSeconds:1500,stopWatch:{pastTimes:[],time:0,paused:!0,highest:0}},snackbar:{open:!1,message:"YOU CAN'T SEE ME! BAM DAM WHAN CHAM, Boo do do dodo doooo",variant:"success"},isLoading:!1,projects:[]},k=n(245),h=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return Object(k.a)(n,function(e){var n=t[a.type];return n?n(e,a):void 0})}},y=n(35),v=n(80),O=function(e,t){return e.findIndex(function(e){return e.id===t})},I=function(e){return e.toLowerCase().replace(/,/g,"").replace(/ /g,"")},C=function(e){var t=[];return e.map(function(e){t=[].concat(Object(y.a)(t),Object(y.a)(e.tasks))}),t},T=function(e,t){var n="";return Object.values(e).map(function(e){Object.values(e.tasks).map(function(a){a.id===t&&(n=e.id)})}),n},w={TICK:function(e,t){if(t.taskId&&t.projectId){var n=e[O(e,t.projectId)];n.tasks[O(n.tasks,t.taskId)].timeWorkedOn+=1}},SET_TASK:function(e,t){var n=e[O(e,t.projectId)],a=n.tasks;null===t.newTask?(n.lists.map(function(e){e.taskIds.includes(t.id)&&e.taskIds.splice(e.taskIds.indexOf(t.id),1)}),n.tasks.splice(n.tasks.findIndex(function(e){return e.id===t.id}))):a[O(a,t.id)]=Object(E.a)({},t.newTask)},SET_SUBTASK:function(e,t){var n=e[O(e,t.projectId)],a=n.tasks[O(n.tasks,t.taskId)];a.subTasks[O(a.subTasks,t.id)]=t.newSubtask,n.tasks[O(n.tasks,t.taskId)]=a}},S={SET_PROJECT:function(e,t){t.project?e[O(e,t.id)]=t.project:delete e[O(e,t.id)]},SET_LIST:function(e,t){var n=e[O(e,t.projectId)].lists;t.newList?n.push({taskIds:t.newList.taskIds||[],name:t.newList.name||"List",id:t.id}):n.splice(O(n,t.id),1)},SET_PROJECTS:function(e,t){return t.projects}},x=h(j.projects,Object(E.a)({},S,w)),L=h(j.pomodoro,{TICK:function(e,t){e.currSeconds>0&&!e.paused?e.currSeconds-=1:(e.paused=!0,e.working=!e.working,e.currSeconds=e.working?e.breakSeconds:e.workSeconds)},TOGGLE_TIMER:function(e,t){e.paused=!e.paused},SET_LENGTH_MINUTES:function(e,t){var n="WORK"===t.operationType?"workSeconds":"breakSeconds",a="CHANGE_WORK_TIME"===t.type&&e.working||"CHANGE_BREAK_TIME"===t.type&&!e.working,r=e[n]+60*t.minutes;if(r>=0){var o=a?e.currSeconds+60*t.minutes:e.currSeconds;e.currSeconds=o,e[n]=r}},RESET_POMODORO:function(e,t){return j.pomodoro},SELECT_POMODORO_TASK:function(e,t){e.selectingTask=!1,t.taskId===e.selectedTaskId?e.selectedTaskId=null:e.selectedTaskId=t.taskId},TOGGLE_SELECTING_TASK:function(e,t){e.selectingTask=!e.selectingTask},SET_TIME_DEV:function(e,t){e.currSeconds=4},TICK_STOPWATCH:function(e,t){e.stopWatch.time+=1,e.stopWatch.highest=Math.max(e.stopWatch.time,e.stopWatch.highest)},TOGGLE_STOPWATCH:function(e,t){e.stopWatch.paused=!e.stopWatch.paused},RESET_STOPWATCH:function(e,t){e.stopWatch.time=0,e.stopWatch.paused=!0}}),P=h(j.user,{REGISTER:function(e,t){return t.user},LOGIN:function(e,t){return t.user}}),D=h(j.snackbar,{OPEN_SNACKBAR:function(e,t){e.open=!0,e.message=t.message,e.variant=t.variant},CLOSE_SNACKBAR:function(e,t){e.open=!1}}),W=h(!1,{START_LOADING:function(e,t){return!0},STOP_LOADING:function(e,t){return!1}}),R=Object(g.combineReducers)({isLoading:W,snackbar:D,projects:x,pomodoro:L,user:P}),F=n(246),N=n.n(F),$=Object(f.composeWithDevTools)({actionCreators:[],trace:!0,traceLimit:100}),A=Object(g.createStore)(R,j,$(Object(g.applyMiddleware)(N()(),b.a))),M=n(267),B=n(474),_=n(475),H=n(476),K=n(477),z=n(538),G=n(479),q=n(8),U=n(478),Y=n(480),J=function(){return{type:"TOGGLE_TIMER"}},V=function(e,t){var n="",a=Math.floor(e/86400);if(e-=86400*a,a&&(n+="".concat(a," Day").concat(1!==a?"s ":" ")),t){var r=Math.floor(e/3600);e-=3600*r,r>0&&(n+="".concat(r," Hour").concat(1!==r?"s ":" "));var o=Math.floor(e/60);e-=60*o,o>0&&(n+="".concat(o," Minute").concat(1!==o?"s ":" ")),r<1&&e>0&&(n+="".concat(e," second").concat(1!==e?"s":""))}else{var i=new Date(null);i.setSeconds(e),"00"===(n+=i.toISOString().slice(11,19)).slice(0,2)?n=n.slice(3):"0"===n.slice(0,1)&&(n=n.slice(1))}return n},X=n(247),Q=n.n(X),Z=n(469),ee=n(470),te=n(471),ne={setLengthA:function(e){return{type:"SET_LENGTH_MINUTES",operationType:e.type,minutes:e.byMinutes}}},ae=Object(u.b)(function(e){return{workTime:e.pomodoro.workSeconds,breakTime:e.pomodoro.breakSeconds}},ne)(function(e){var t=e.workTime,n=e.breakTime;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{textAlign:"center",fontSize:18,margin:10}},"Break Time: ",V(n)),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(Z.a,{onClick:function(){return e.setLengthA({type:"BREAK",byMinutes:1})},color:"secondary",style:{width:"100%",marginLeft:8,marginRight:4}},l.a.createElement(ee.a,null)),l.a.createElement(Z.a,{onClick:function(){return e.setLengthA({type:"BREAK",byMinutes:-1})},color:"primary",fullWidth:!0,style:{width:"100%",marginLeft:4,marginRight:8}},l.a.createElement(te.a,null))),l.a.createElement("div",{style:{textAlign:"center",fontSize:18,margin:10}},"Work Time: ",V(t)),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(Z.a,{onClick:function(){return e.setLengthA({type:"WORK",byMinutes:5})},color:"secondary",style:{width:"100%",marginLeft:8,marginRight:4}},l.a.createElement(ee.a,null)),l.a.createElement(Z.a,{onClick:function(){return e.setLengthA({type:"WORK",byMinutes:-5})},color:"primary",fullWidth:!0,style:{width:"100%",marginLeft:4,marginRight:8}},l.a.createElement(te.a,null))))}),re=n(166),oe={reset:function(){return{type:"RESET_POMODORO"}},toggleSelectingTask:function(){return{type:"TOGGLE_SELECTING_TASK"}},setTimeDev:function(){return{type:"SET_TIME_DEV"}}},ie=Object(u.b)(function(e){return{pomodoro:e.pomodoro,tasks:C(e.projects)}},oe)(function(e){var t=e.pomodoro,n=e.timeLeft,a="".concat(t.paused?"Start":"Stop"," ").concat(t.working?"Work":"Break");return l.a.createElement("div",{style:{margin:10}},l.a.createElement("div",{style:{color:t.working?"red":"green",textAlign:"center",fontSize:24}},n),l.a.createElement(re.a,{style:{minHeight:36,marginBottom:10,marginTop:5,backgroundColor:"white",padding:10}},l.a.createElement("p",{style:{display:"inline",fontSize:20}},t.selectingTask?"Selecting Task...":t.selectedTaskId?e.tasks[O(e.tasks,t.selectedTaskId)].name:"Select Task"),l.a.createElement(Z.a,{color:"secondary",style:{float:"right",marginLeft:5},onClick:function(){return e.toggleSelectingTask()}},t.selectingTask?"Cancel":"Select "+(t.selectedTaskId?"New":"")),l.a.createElement("p",null,(t.selectedTaskId&&t.selectingTask,""))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(Z.a,{onClick:e.toggleWorking,color:"primary",fullWidth:!0,variant:"outlined"},a),l.a.createElement("div",{style:{width:8}}),l.a.createElement(Z.a,{onClick:e.reset,color:"secondary",fullWidth:!0},"Reset")))}),ce=n(74),le={display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},se=n(472),ue=n(473),de=setInterval(function(){return null},1/0),me={tickStopwatch:function(){return{type:"TICK_STOPWATCH"}},toggleStopwatch:function(){return{type:"TOGGLE_STOPWATCH"}},reset:function(){return{type:"RESET_STOPWATCH"}}},pe=Object(u.b)(function(e){return{stopWatch:e.pomodoro.stopWatch}},me)(function(e){Object(c.useEffect)(function(){clearInterval(de),de=setInterval(function(){e.stopWatch.paused||e.tickStopwatch()},1e3)});var t=e.stopWatch,n=e.reset;return l.a.createElement("div",{style:{margin:10}},l.a.createElement("div",{style:{textAlign:"center",fontSize:28,marginBottom:10,color:t.time>=t.highest?"#FFD700":"black"}},V(t.time)),l.a.createElement(ce.Transition,{items:t.time<t.highest,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},function(e){var n={fontSize:28,color:"#444",marginBottom:10};return e&&function(e){return l.a.createElement("div",{style:Object(E.a)({},n,e,le)},"Best: ",V(t.highest))}}),l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(Z.a,{onClick:function(){return n()},style:{marginRight:4}},"Reset"),l.a.createElement(Z.a,{onClick:e.toggleStopwatch,color:"secondary"},t.paused?l.a.createElement(se.a,{style:{marginRight:4}}):l.a.createElement(ue.a,{style:{marginRight:4}}),t.paused?"Start":"Stop")))}),ge=setInterval(function(){return null},1/0),fe={toggleTimer:J,tick:function(e){return{type:"TICK",taskId:e.taskId,projectId:e.projectId}}},be=Object(u.b)(function(e){return{pomodoro:e.pomodoro,projects:e.projects,tasks:C(e.projects)}},fe)(Object(q.a)(function(e){return Object(B.a)({card:{position:"fixed",bottom:e.spacing(4),outline:"none",left:e.spacing(4),maxWidth:700,minWidth:300,zIndex:1099,backgroundColor:"#f2f2f2"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})})(function(e){var t=Object(c.useState)(0),n=Object(i.a)(t,2),a=n[0],r=n[1],o=e.pomodoro;l.a.useEffect(function(){clearInterval(ge),ge=setInterval(function(){o.paused||(o.selectedTaskId&&o.working?e.tick({taskId:o.selectedTaskId,projectId:T(e.projects,o.selectedTaskId)}):e.tick({})),document.title=o.paused?"Mantella":"".concat(o.working?"Work ":"Break "," ").concat(V(o.currSeconds-1))},1e3)});var s=function(){e.toggleTimer()},u=e.open,d=e.classes,m=e.stateFunc,p=V(o.currSeconds);return function(e,t,n){if(0===e.currSeconds){var a="Start ".concat(e.working?"Break":"Working"),r="".concat(e.working?"Work":"Break"," Completed"),o=e.working?"Take a break! Make some chili! Good job kiddo, really proud of you man <3":"You fat, obese, loser, good people do not need breaks, they are more productive than you. I mean, what the heck were you even doing? Watching a dumb movie, a youtube video about how container ships work, come on man.",i=e.working?"success":"warning";Q()({title:r,text:o,icon:i,buttons:{stop:{text:"Stop Pomodoro",value:"stop"},toggle:{text:a,value:"toggle"}}}).then(function(e){switch(e){case"stop":t(!1);break;case"toggle":n()}})}}(o,m,function(){return s()}),l.a.createElement("div",null,u&&l.a.createElement(_.a,{className:d.card},l.a.createElement(H.a,null,"Pomodoro"),l.a.createElement(K.a,{className:d.closeButton,onClick:function(){return m(!1)}},l.a.createElement(U.a,null)),0===a&&l.a.createElement(ie,{toggleWorking:function(){return s()},timeLeft:p}),1===a&&l.a.createElement(ae,null),2===a&&l.a.createElement(pe,null),l.a.createElement(z.a,{value:a,onChange:function(e,t){return r(t)}},l.a.createElement(G.a,{label:"Clock"}),l.a.createElement(G.a,{icon:l.a.createElement(Y.a,null)}),l.a.createElement(G.a,{label:"Stopwatch"}))))})),Ee=n(545),je=n(117),ke=n(542),he=n(489),ye=n(490),ve=n(481),Oe=n(58),Ie=function(e){return Object(B.a)({layout:Object(Oe.a)({width:"auto"},e.breakpoints.up(524),{width:500,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2,3,3))},avatar:{margin:e.spacing(1),width:48,height:48,backgroundColor:e.palette.secondary.main},submit:{marginTop:e.spacing(3)}})},Ce=function(e,t){return{type:"OPEN_SNACKBAR",message:e,variant:t}},Te=n(82),we=n.n(Te),Se=n(251),xe=n.n(Se),Le=function(e){return{type:"SET_PROJECT",id:e.id,project:e.newProj}},Pe=function(e){return{type:"SELECT_MEMBER",id:e.id,projectId:e.projectId}},De=function(){var e=Object(o.a)(r.a.mark(function e(t,n){var a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.a.post("/graphql",{query:t,variables:n},{withCredentials:!0});case 2:return a=e.sent,e.next=5,a.data;case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),We=function(e){return function(t,n){e&&e.projects&&t({type:"SET_PROJECTS",projects:e.projects})}},Re=function(e){return{username:e.username,profileImg:e.profileImg||"",joinedIds:e.projects.map(function(e){return"string"===typeof e?e:e.id}),id:e.id,email:e.email}},Fe=function(e){return function(t,n){e?(t({type:"LOGIN",user:Re(e)}),t(Ce("Logged in Successfully","success")),t(We(e))):t(Ce("Could not Login","error"))}},Ne=n(544),$e=n(29),Ae=n(30),Me=n.n(Ae);function Be(){var e=Object($e.a)(["\n  ","\n  fragment userFields on User {\n    id\n    profileImg\n    username\n    email\n    projects {\n      ...projectFields\n    }\n  }\n"]);return Be=function(){return e},e}function _e(){var e=Object($e.a)(["\n  ","\n  ","\n  fragment projectFields on Project {\n    security {\n      public\n      assignedUsers\n    }\n    ownerId\n    lists {\n      ...listFields\n    }\n\n    users\n    tasks {\n      ...taskFields\n    }\n    id\n    name\n  }\n"]);return _e=function(){return e},e}function He(){var e=Object($e.a)(["\n  fragment listFields on List {\n    id\n    name\n    taskIds\n  }\n"]);return He=function(){return e},e}function Ke(){var e=Object($e.a)(["\n  fragment ProfileFields on Profile {\n    id\n    profileImg\n    username\n    email\n    projects\n  }\n"]);return Ke=function(){return e},e}function ze(){var e=Object($e.a)(["\n  fragment taskFields on Task {\n    points\n\n    progress\n\n    id\n    dueDate\n    color\n    subTasks {\n      name\n      completed\n      id\n    }\n    recurrance {\n      interval\n      nextDue\n    }\n    comments {\n      id\n      comment\n      dateAdded\n      lastEdited\n    }\n    timeWorkedOn\n    name\n  }\n"]);return ze=function(){return e},e}var Ge=Me()(ze()),qe=(Me()(Ke()),Me()(He())),Ue=Me()(_e(),Ge,qe),Ye=Me()(Be(),Ue);function Je(){var e=Object($e.a)(["\n  ","\n  mutation loginAsGuest {\n    loginAsGuest {\n      user {\n        ...userFields\n      }\n    }\n  }\n"]);return Je=function(){return e},e}function Ve(){var e=Object($e.a)(["\n  mutation logout {\n    logout {\n      message\n    }\n  }\n"]);return Ve=function(){return e},e}function Xe(){var e=Object($e.a)(["\n  ","\n  mutation loginWithCookie {\n    loginWithCookie {\n      user {\n        ...userFields\n      }\n    }\n  }\n"]);return Xe=function(){return e},e}function Qe(){var e=Object($e.a)(["\n  ","\n  mutation register($username: String!, $password: String!, $email: String!) {\n    register(username: $username, password: $password, email: $email) {\n      user {\n        ...userFields\n      }\n    }\n  }\n"]);return Qe=function(){return e},e}function Ze(){var e=Object($e.a)(["\n  ","\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      user {\n        ...userFields\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}var et=Me()(Ze(),Ye),tt=Me()(Qe(),Ye),nt=Me()(Xe(),Ye),at=Me()(Ve()),rt=Me()(Je(),Ye),ot={openSnackbar:Ce,register:function(e){return function(t,n){if(e){var a=Re(e);t(Ce("Registered! Welcome To Mantella!","success")),t({type:"REGISTER",user:a}),t(We(e))}else t(Ce("Could not Register","error"))}},login:Fe},it=Object(q.a)(Ie)(Object(u.b)(null,ot)(function(e){var t=e.authType,n=e.openSnackbar,a=e.classes,r=e.register,o=e.login,s=Object(c.useState)(""),u=Object(i.a)(s,2),d=u[0],p=u[1],g=Object(c.useState)(""),f=Object(i.a)(g,2),b=f[0],E=f[1],j=Object(c.useState)(""),k=Object(i.a)(j,2),h=k[0],y=k[1],v=Object(c.useState)(""),O=Object(i.a)(v,2),I=O[0],C=O[1];return l.a.createElement("div",{style:{margin:20}},l.a.createElement(we.a,null,l.a.createElement("style",{type:"text/css"}," body { background-color: #1d364c; }"),l.a.createElement("meta",{content:"Get started with Mantella today, totally free!",name:"description"})),l.a.createElement("main",{className:a.layout},l.a.createElement(Ne.a,{onCompleted:function(e){if("Register"===t){var a=e;null!==a&&null!==a.register&&a.register.user?(r(a.register.user),window.location.hash="#/project/"+a.register.user.projects[0].id):n("User with that Email already exists, Sorry!","error")}else"Login"===t&&(e&&e.login&&e.login.user?(o(e.login.user),window.location.hash="#/calendar"):n("Could not login, oopsie!","error"))},onError:function(e){n("Could not Authenticate!","error")},mutation:"Register"===t?tt:et},function(e,n){return l.a.createElement("form",{autoComplete:"on",onSubmit:function(n){n.preventDefault(),e("Register"===t?{variables:{username:I,password:b,email:d}}:{variables:{email:d,password:b}})}},l.a.createElement(re.a,{className:a.paper},l.a.createElement(Ee.a,{className:a.avatar},l.a.createElement(ve.a,null)),l.a.createElement(je.a,{style:{fontSize:17}},t),"Register"===t&&l.a.createElement(Z.a,{component:m.b,to:"/login",variant:"outlined",style:{marginTop:10}},"Login Instead"),"Register"===t&&l.a.createElement(ke.a,{margin:"dense",fullWidth:!0,required:!0,autoComplete:"off",onChange:function(e){return C(e.target.value)},value:I,label:"Full Name"}),l.a.createElement(ke.a,{margin:"dense",fullWidth:!0,name:"email",required:!0,autoComplete:"on",value:d,onChange:function(e){p(e.target.value)},label:"Email",type:"email"}),l.a.createElement(ke.a,{margin:"dense",fullWidth:!0,required:!0,autoComplete:"on",label:"Password",name:"password",type:"password",id:"password",value:b,onChange:function(e){return E(e.target.value)}}),"Register"===t&&l.a.createElement(ke.a,{type:"password",margin:"dense",fullWidth:!0,required:!0,autoComplete:"off",label:"Confirm Password",error:h!==b,value:h,onChange:function(e){return y(e.target.value)}}),l.a.createElement(he.a,{container:!0,justify:"center",style:{marginTop:"10px"}},n.loading&&l.a.createElement(ye.a,{style:{margin:"4px auto"}}),l.a.createElement(Z.a,{variant:"contained",color:"secondary",fullWidth:!0,disabled:"Register"===t&&(""===b.trim()||b!==h),type:"submit",style:{marginTop:10}},t)),l.a.createElement(he.a,{container:!0,style:{marginTop:15},alignContent:"space-between"},l.a.createElement(K.a,null,l.a.createElement("img",{src:"https://cdn4.iconfinder.com/data/icons/new-google-logo-2015/400/new-google-favicon-512.png",style:{height:50,width:50}})),l.a.createElement(K.a,{style:{marginLeft:8}},l.a.createElement("img",{src:"https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-512.png",style:{height:50,width:50}})),l.a.createElement(K.a,{style:{marginLeft:8}},l.a.createElement("img",{src:"https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-social-github-512.png",style:{height:50,width:50}})),l.a.createElement(K.a,{style:{marginLeft:8}},l.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/social-icons-5/607/Twitterbird.png",style:{height:50,width:50}})))))})))})),ct=n(492),lt=n(491);function st(){var e=Object($e.a)(["\n  ","\n\n  mutation editProject($id: String!, $newProj: ProjectInput!) {\n    editProject(newProj: $newProj, id: $id) {\n      ...projectFields\n    }\n  }\n"]);return st=function(){return e},e}function ut(){var e=Object($e.a)(["\n  mutation deleteProject($id: String!) {\n    deleteProject(id: $id) {\n      id\n    }\n  }\n"]);return ut=function(){return e},e}function dt(){var e=Object($e.a)(["\n  ","\n\n  mutation createProject($name: String!) {\n    createProject(name: $name) {\n      ...projectFields\n    }\n  }\n"]);return dt=function(){return e},e}var mt=Me()(dt(),Ue),pt=Me()(ut()),gt=Me()(st(),Ue),ft={openSnackbar:Ce,setProject:Le},bt=Object(u.b)(function(e){return{user:e.user}},ft)(Object(q.a)(Ie)(function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(lt.a)(mt,{onCompleted:function(t){var n=t.createProject;n&&n.id?(e.setProject({id:n.id,newProj:n}),window.location.hash="#/project/"+n.id,e.openSnackbar("Project Created Successfully","success")):e.openSnackbar("Project Could Not Be Created","warning")},onError:function(t){e.openSnackbar("Error when creating project","error")}}),l=Object(i.a)(o,2),s=l[0],u=l[1].loading,d=e.classes;return c.createElement(c.Fragment,null,c.createElement("main",{style:{margin:"auto"},className:d.layout},c.createElement("form",{onSubmit:function(t){t.preventDefault(),e.user?s({variables:{name:a||"Unnamed Project"}}):e.openSnackbar("You havn't logged in, silly goose","warning")}},c.createElement("div",{className:d.paper},c.createElement(Ee.a,{className:d.avatar},c.createElement(ct.a,null)),c.createElement(je.a,{style:{fontSize:17}},"Create Project"),u&&c.createElement(ye.a,{style:{margin:"4px auto"}}),c.createElement("div",{style:{display:"flex",width:"100%"}},c.createElement(ke.a,{autoFocus:!0,label:"Project Name",value:a,fullWidth:!0,onChange:function(e){return r(e.target.value)},required:!0}),c.createElement("div",{style:{marginLeft:12,marginTop:"auto"}},c.createElement(Z.a,{style:{marginTop:"auto"},variant:"contained",color:"secondary",type:"submit"},"Create")))))))})),Et=(n(332),Object(u.b)(function(e){return{user:e.user}})(function(e){return l.a.createElement("div",{className:"all"},l.a.createElement("section",{className:"error-container"},l.a.createElement("span",{className:"four"},l.a.createElement("span",{className:"screen-reader-text"},"4")),l.a.createElement("span",{className:"zero"},l.a.createElement("span",{className:"screen-reader-text"},"0")),l.a.createElement("span",{className:"four"},l.a.createElement("span",{className:"screen-reader-text"},"4")),l.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},l.a.createElement(Z.a,{color:"secondary",style:{width:250},to:e.user?"/dashboard":"/",component:m.b,variant:"contained"},"Home"))))})),jt=n(528),kt=n(536),ht=n(493),yt=n(494),vt=n(495),Ot=n(496),It=n(497),Ct=n(498),Tt=n(499),wt=["Feature","Mantella","Trello","KanbanFlow"],St=[["Subtasks","CHECK","CHECK","CHECK"],["UI/UX","Material","Minimal","NO"],["Multiple Projects","CHECK","CHECK","CHECK"],["Filtering","CHECK","CHECK","CHECK"],["Recurring Tasks","CHECK","CHECK","CHECK"],["Collapse Columns","CHECK","CHECK","NO"],["Mobile Friendly","WIP","CHECK","CHECK"],["Attach Photos","NO","PRO","CHECK"],["Comments","CHECK","NO","CHECK"],["Links","NO","NO","CHECK"],["Export as JSON","CHECK","NO","NO"]],xt={paper:{maxWidth:1e3,margin:"20px 0",marginLeft:"auto",marginRight:"auto",padding:16,paddingBottom:48}},Lt=function(){return l.a.createElement(re.a,{style:xt.paper},l.a.createElement(ht.a,null,l.a.createElement(yt.a,null,l.a.createElement(vt.a,null,wt.map(function(e,t){return l.a.createElement(Ot.a,{key:t},e)}))),l.a.createElement(It.a,null,St.map(function(e,t){return l.a.createElement(vt.a,{key:t},e.map(function(e,t){return l.a.createElement(Ot.a,{key:t},"CHECK"===e?l.a.createElement(Ct.a,{style:{color:"#00CC00"}}):"NO"===e?l.a.createElement(U.a,{style:{color:"#cc0000"}}):"WIP"===e?l.a.createElement(Tt.a,{style:{color:"orange"}}):"PRO"===e?"Premium":e)}))}))))},Pt=n(500),Dt=[{name:"Dividers",description:"divide tasks in different task lists or swimlanes for maximum efficiency",icon:"view_quilt"},{name:"Private tasks",description:"Not everyone needs access to a task, assign tasks to teams or specific members",icon:"lock"},{name:"Time tracking",description:"Get detailed statistics of what has been done",icon:"timer"},{name:"Board settings",description:"Manage members and admins, customize the app",icon:"settings"},{name:"Targets",description:"Set goals for certain members, teams, or for the entire project",icon:"check_box"},{name:"Calendar",description:"Get an overview of due dates and manage your time accordingly",icon:"calendar_today"},{name:"Task Board",description:"Get an overview of what has to be done",icon:"view_list"},{name:"Issue Tracking",icon:"bug_report",description:"Assign importance to tasks and assign bugs to teams"},{name:"Recurring Tasks",icon:"repeat",description:"Get reminders for tasks that must be done on a routine basis"}],Wt=function(){return l.a.createElement(re.a,{style:{padding:16,maxWidth:1e3,margin:"12px auto"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},Dt.map(function(e,t){return l.a.createElement("div",{key:t,style:{flex:1,display:"flex"}},l.a.createElement("div",{style:{margin:8,minWidth:250,flex:1,borderRadius:4,padding:8,flexDirection:"column",alignItems:"start",justifyContent:"start"}},l.a.createElement("div",{style:{flexDirection:"row",display:"flex",alignItems:"center"}},l.a.createElement(Pt.a,{style:{fontSize:36,marginRight:4,color:"#224885"}},e.icon),l.a.createElement("p",{style:{fontWeight:700,fontSize:22,color:"#224885"}},e.name)),l.a.createElement("div",{style:{marginTop:8}},e.description)))})))},Rt=Object(q.a)(function(e){return Object(B.a)({heroContent:{minHeight:200,padding:80,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#8080ff",position:"relative",flexDirection:"column"},heroTitle:{fontSize:64,textAlign:"center"},kayLink:{marginLeft:"auto",marginRight:"auto",marginTop:16,marginBottom:16,textAlign:"center",minHeight:368},title:{fontWeight:700,fontSize:"2.75rem",zIndex:2},description:{fontWeight:400,fontSize:"1.25rem",marginTop:-40,zIndex:2}})})(Object(u.b)(null,{login:Fe})(function(e){var t=e.classes;return l.a.createElement("div",null,l.a.createElement(Te.Helmet,null,l.a.createElement("style",{type:"text/css"}," body { background-color: #1d364c; } h4 { color: white !important; }"),l.a.createElement("script",{type:"text/javascript",src:"https://platform.linkedin.com/badges/js/profile.js",async:!0,defer:!0}),l.a.createElement("meta",{name:"description",content:"Mantella is the most innovative open-source task manager and kanban Board!"})),l.a.createElement("div",{className:t.heroContent},l.a.createElement("div",{className:t.title},"Mantella"),l.a.createElement("div",{className:t.description},"Elegant Project Management and Time Tracking"),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(Ne.a,{mutation:rt,onCompleted:function(t){e.login(t.loginAsGuest.user),window.location.hash="#/project/"+t.loginAsGuest.user.projects[0].id}},function(e,t){return l.a.createElement(l.a.Fragment,null,t.loading&&l.a.createElement(ye.a,{style:{margin:"4px auto"}}),l.a.createElement(Z.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return e({variables:{}})},style:{marginTop:"auto"}},"Continue as Guest"))}))),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(je.a,{variant:"h4",align:"center",gutterBottom:!0},"The Team"),l.a.createElement("div",{className:t.kayLink},l.a.createElement("div",{className:"LI-profile-badge","data-version":"v1","data-size":"large","data-locale":"en_US","data-type":"vertical","data-theme":"dark","data-vanity":"austin-kay-4a823b139"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"LI-simple-link",href:"https://www.linkedin.com/in/austin-kay-4a823b139?trk=profile-badge"},"Austin Kay - Builder"))),l.a.createElement(je.a,{style:{marginTop:20},variant:"h4",align:"center"},"Features"),l.a.createElement(Lt,null),l.a.createElement(Wt,null)))})),Ft=n(254),Nt=n.n(Ft),$t=n(507),At=n(506),Mt=n(190),Bt=n.n(Mt),_t=n(269),Ht=n(543),Kt=n(547),zt=n(487),Gt=n(440),qt=n(508),Ut=n(502),Yt=n(503),Jt=n(504),Vt=n(505),Xt=n(501),Qt=Object(p.g)(Object(u.b)(function(e){return{projects:e.projects}})(Object(q.a)(function(e){return Object(B.a)({list:{backgroundColor:"#FAFAFA",margin:"25px auto 0px auto",borderRadius:0,width:"100%"}})})(function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],o=e.classes,s=Object(y.a)(Object.values(e.projects));return s=s.filter(function(e){var t=I(e.name),n=I(a);return t.indexOf(n)>-1}),l.a.createElement("div",{style:{maxWidth:1e3,marginLeft:"auto",marginRight:"auto",minWidth:280}},"menu"!==e.variant&&l.a.createElement(je.a,{align:"center",style:{marginBottom:10},variant:"h4"},"Projects"),l.a.createElement(ke.a,{autoFocus:"menu"===e.variant||void 0,style:{borderRadius:"0%"},fullWidth:!0,label:"Filter by Name or Category",variant:"menu"===e.variant?"standard":"outlined",value:a,onChange:function(e){return r(e.target.value)}}),l.a.createElement(zt.a,{className:o.list,subheader:l.a.createElement(Xt.a,{component:"div"},"Projects")},s.map(function(t,n){var a="create-project"===t.id?"":"/project/";return l.a.createElement("div",{key:t.id,style:{whiteSpace:"nowrap"}},l.a.createElement(Gt.a,{button:!0,disabled:e.location.pathname.split("/project/")[1]===t.id,to:a+t.id.toString(),onClick:e.onClick,component:m.b},l.a.createElement(Ut.a,{primary:t.name})))})),l.a.createElement("div",{style:{marginTop:20}},!e.noButton&&l.a.createElement(Z.a,{variant:"outlined",color:"primary",to:"/create-project",component:m.b,fullWidth:!0},"Create Project")))}))),Zt=[{label:"About",pathname:"/",menuIcon:Yt.a},{label:"Login",pathname:"/login",menuIcon:Jt.a},{label:"Register",pathname:"/register",menuIcon:Jt.a}],en=[{label:"Settings",pathname:"/settings",menuIcon:Y.a},{label:"Calendar",pathname:"/calendar",menuIcon:Vt.a}],tn=Object(p.g)(Object(u.b)(function(e){return{authenticated:e.user}})(function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(null),s=Object(i.a)(o,2),u=s[0],d=s[1],p=e.classes,g=null!==e.authenticated?en:Zt,f=g.map(function(e){return e.pathname}).indexOf(e.location.pathname);return l.a.createElement(l.a.Fragment,null,l.a.createElement(At.a,{position:"absolute",color:"default",className:p.appBar},l.a.createElement($t.a,{style:{minHeight:64,padding:"0px 24px"}},l.a.createElement(he.a,{container:!0,spacing:3,alignItems:"center"},l.a.createElement(he.a,{item:!0,xs:12,style:{alignItems:"center"},className:p.flex},null!==e.authenticated&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Z.a,{style:{margin:"auto 25px auto 0px",paddingTop:8,paddingBottom:8},color:"primary",variant:"outlined",onClick:function(e){return d(e.currentTarget)}},l.a.createElement(Bt.a,null),l.a.createElement("span",{style:{marginLeft:5}},"Projects")),l.a.createElement(_t.a,{anchorEl:u,open:Boolean(u),onClose:function(){return d(null)}},l.a.createElement("div",{style:{outline:"none",margin:10}},l.a.createElement(Qt,{variant:"menu"})))),l.a.createElement("div",{className:p.inline},l.a.createElement(je.a,{variant:"h6",color:"inherit",noWrap:!0},l.a.createElement(ce.Trail,{items:"Kanban Brawn",from:{transform:"translate3d(0,-40px,0)"},to:{transform:"translate3d(0,0px,0)"}},function(e){return function(e){return l.a.createElement("a",{target:"_blank",href:"https://github.com/conradkay/Mantella",style:Object(E.a)({},e,{color:"black",textDecoration:"none",paddingRight:5}),className:p.tagline},"Mantella")}}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:p.iconContainer},l.a.createElement(K.a,{onClick:function(){return r(!0)},className:p.iconButton},l.a.createElement(Bt.a,null))),l.a.createElement("div",{className:p.tabContainer},l.a.createElement(z.a,{value:-1!==f&&f,indicatorColor:"primary",textColor:"primary"},g.map(function(e,t){return l.a.createElement(G.a,{disabled:location.hash.slice(1)===e.pathname,style:{minWidth:96},key:t,to:e.pathname,component:m.b,classes:{root:p.tabItem},label:e.label})}))),null!==e.authenticated&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ht.a,{title:"".concat(e.authenticated.username)},l.a.createElement(Ee.a,{style:{margin:"auto 10px",backgroundColor:"#0061ff"}},e.authenticated.username[0].toUpperCase())))))))),l.a.createElement(Kt.a,{anchor:"right",open:a,onClose:function(){return r(!1)}},l.a.createElement("div",{style:{width:"auto"}},l.a.createElement(zt.a,null,g.map(function(e,t){return l.a.createElement(Gt.a,{onClick:function(){return r(!1)},to:e.pathname,component:m.b,button:!0,key:t},l.a.createElement(qt.a,null,l.a.createElement(e.menuIcon,null)),l.a.createElement(Ut.a,{primary:e.label}))})))))})),nn=Nt()(function(e){return Object(B.a)({appBar:{position:"relative",boxShadow:"none",borderBottom:"1px solid ".concat(e.palette.grey[100]),backgroundColor:"white"},inline:{display:"inline"},flex:{display:"flex"},link:{textDecoration:"none",color:"inherit"},tagline:{display:"inline-block",marginLeft:10},iconContainer:Object(Oe.a)({display:"none"},e.breakpoints.down("md"),{display:"block",marginLeft:"auto"}),tabContainer:Object(Oe.a)({marginLeft:"auto"},e.breakpoints.down("md"),{display:"none"}),tabItem:{paddingTop:20,paddingBottom:20,minWidth:"auto"},iconButton:{}})})(tn),an=n(548),rn=n(510),on=n(255),cn=n.n(on),ln=n(256),sn=n.n(ln),un=n(257),dn=n.n(un),mn=n(258),pn=n.n(mn),gn=n(509),fn={closeSnackbar:function(){return{type:"CLOSE_SNACKBAR"}}},bn=Object(u.b)(function(e){var t=e.snackbar;return{open:t.open,message:t.message,variant:t.variant}},fn)(Object(q.a)(function(e){return Object(B.a)({success:{backgroundColor:"#43A047"},warning:{backgroundColor:"#FFA000"},standard:{},error:{backgroundColor:e.palette.error.dark},close:{width:24,height:24},message:{display:"flex",alignItems:"center"},icon:{fontSize:20,marginRight:e.spacing(1)},snackbar:Object(Oe.a)({},e.breakpoints.down(960),{marginBottom:"0px !important"})})})(function(e){var t={success:cn.a,warning:sn.a,error:dn.a,standard:gn.a},n=e.classes,a=e.open,r=e.message,o=e.variant,i=e.closeSnackbar,l=function(e,t){return"success"===e?t.success:"warning"===e?t.warning:"error"===e?t.error:t.standard}(o,n),s=t[o];return c.createElement(an.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:a,style:{marginBottom:20},className:n.snackbar,autoHideDuration:3e3,onClose:i},c.createElement(rn.a,{className:l,message:c.createElement("span",{className:n.message},c.createElement(s,{className:n.icon}),c.createElement("span",{style:{marginLeft:15,fontSize:15}},r)),action:[c.createElement(K.a,{key:"close",color:"inherit",className:n.icon,onClick:i},c.createElement(pn.a,{className:n.close}))]}))})),En=n(22),jn=n(260),kn=n(52),hn=n(48),yn=n(259),vn=n(270),On=n(268),In=new kn.c({connectToDevTools:!0,link:hn.a.from([Object(yn.a)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message,n=e.locations,a=e.path;return console.error("GQL ERROR: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a))}),n&&console.error("[Network error]: ".concat(n))}),new vn.a({uri:"/graphql",credentials:"include"})]),cache:new On.a}),Cn=n(193),Tn=function(e){return{user:e.user}},wn=Object(u.b)(Tn)(function(e){var t=e.component,n=e.componentProps,a=e.user,r=Object(Cn.a)(e,["component","componentProps","user"]);return l.a.createElement(p.b,Object.assign({},r,{render:function(e){return null!==a?l.a.createElement(t,Object.assign({params:e.match.params},n)):l.a.createElement(p.a,{to:"/login"})}}))}),Sn=Object(u.b)(Tn)(function(e){var t=e.component,n=e.componentProps,a=e.user,r=Object(Cn.a)(e,["component","componentProps","user"]);return l.a.createElement(p.b,Object.assign({},r,{render:function(e){return null===a?l.a.createElement(t,Object.assign({},n,{params:e.match.params},n)):l.a.createElement(p.a,{to:"/dashboard"})}}))}),xn=n(511),Ln=n(512),Pn=n(513),Dn=n(514),Wn=function(e){return{type:"SET_LIST",id:e.id,projectId:e.projectId,newList:e.newList}};function Rn(){var e=Object($e.a)(["\n  ","\n\n  mutation editList($id: String!, $projectId: String!, $newList: ListInput!) {\n    editList(listId: $id, projId: $projectId, newList: $newList) {\n      list {\n        ...listFields\n      }\n      project {\n        ...projectFields\n      }\n    }\n  }\n"]);return Rn=function(){return e},e}function Fn(){var e=Object($e.a)(["\n  mutation deleteList($projectId: String!, $id: String!) {\n    deleteList(projId: $projectId, id: $id) {\n      id\n    }\n  }\n"]);return Fn=function(){return e},e}function Nn(){var e=Object($e.a)(["\n  ","\n\n  mutation createList($name: String!, $projId: String!) {\n    createList(projId: $projId, name: $name) {\n      project {\n        ...projectFields\n      }\n      list {\n        ...listFields\n      }\n    }\n  }\n"]);return Nn=function(){return e},e}var $n=Me()(Nn(),Ue),An=Me()(Fn()),Mn=(Me()(Rn(),Ue),{setList:Wn}),Bn=Object(u.b)(null,Mn)(Object(q.a)(function(e){return Object(B.a)({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})})(function(e){var t=e.project,n=e.onClose,a=e.classes,r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],s=o[1],u=Object(lt.a)($n,{onCompleted:function(t){var n=t.createList;e.setList({id:n.list.id,projectId:e.project.id,newList:{taskIds:[],name:n.list.name||"List"}})}}),d=Object(i.a)(u,1)[0];return c.createElement(xn.a,{open:!0,onClose:n},c.createElement("form",{onSubmit:function(e){e.preventDefault(),d({variables:{name:l||"List",projId:t.id}}),n()}},c.createElement(H.a,null,"Create List"),c.createElement(K.a,{className:a.closeButton,onClick:n},c.createElement(U.a,null)),c.createElement(Ln.a,null,c.createElement(Pn.a,null,'Lists should contain either a type or date of task. Ex: "Amanda", "Expert Tasks", or "Writing"'),c.createElement(ke.a,{required:!0,autoFocus:!0,margin:"dense",label:"List Name",value:l,onChange:function(e){var t=e.target;return s(t.value)},fullWidth:!0})),c.createElement(Dn.a,null,c.createElement(Z.a,{onClick:n,color:"secondary"},"Cancel"),c.createElement(Z.a,{variant:"contained",color:"primary",type:"submit"},"Create"))))})),_n=n(526),Hn=n(527),Kn=n(67),zn=n(515),Gn=n(516),qn={setProject:Le},Un=Object(u.b)(null,qn)(function(e){var t=l.a.useState(!1),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(lt.a)(pt,{onCompleted:function(t){var n=t.deleteProject;n&&n.id&&e.setProject({id:n.id,newProj:null})}}),c=Object(i.a)(o,1)[0];return l.a.createElement(xn.a,{onClose:e.onClose,open:!0},l.a.createElement("div",{style:{minWidth:"500px"}}),l.a.createElement(H.a,null,"Project Settings"),l.a.createElement(Ln.a,null,l.a.createElement(je.a,{style:{fontSize:20}},l.a.createElement("span",{style:{color:"red",marginRight:8}},"Danger Zone!")),l.a.createElement(Gt.a,null,l.a.createElement(zn.a,null,l.a.createElement(Gn.a,null)),l.a.createElement(Ut.a,{primary:"Delete this project",secondary:"Once deleted, projects cannot be restored"}),l.a.createElement(Z.a,{size:"medium",onClick:function(){a?c({variables:{id:e.project.id}}):r(!0)},color:"primary",variant:a?"contained":"outlined",style:{marginLeft:16,maxHeight:36,marginTop:"auto"}},a?"Confirm":"Delete"))),l.a.createElement(Dn.a,null,l.a.createElement(Z.a,{onClick:e.onClose},"Continue")))}),Yn=n(520),Jn=n(523),Vn=n(537),Xn=n(517),Qn=function(e){return Object(v.isArray)(e)?e[1]:!!e&&Object(Xn.a)(e,new Date)},Zn=n(539),ea=function(e,t){return Qn(e)&&t?function(e){return"Overdue by "+Object(Zn.a)(new Date,e)}(e):"Due "+function(e){return Object(Vn.a)(e,"MMM do h:mm a")}(e)},ta=function(e,t){return e.dueDate?e.recurrance&&e.recurrance.interval?"Due every ".concat(V(e.recurrance.interval,!0)," next: ").concat(ea(new Date(e.dueDate),t)):ea(new Date(e.dueDate),t):""},na=n(518),aa=n(519),ra=n(521),oa=n(522),ia=function(e){return{type:"SET_TASK",id:e.id,projectId:e.projectId,newTask:e.newTask?Object(v.cloneDeep)(Object(E.a)({},e.newTask)):null}};function ca(){var e=Object($e.a)(["\n  ","\n\n  mutation dragTask(\n    $oldListId: String!\n    $newListId: String!\n    $newIndex: Int!\n    $id: String!\n    $newProgress: Int!\n    $projectId: String!\n  ) {\n    dragTask(\n      oldListId: $oldListId\n      newListId: $newListId\n      newIndex: $newIndex\n      id: $id\n      newProgress: $newProgress\n      projectId: $projectId\n    ) {\n      task {\n        ...taskFields\n      }\n      project {\n        ...projectFields\n      }\n    }\n  }\n"]);return ca=function(){return e},e}function la(){var e=Object($e.a)(["\n  ","\n\n  mutation deleteTask($projId: String!, $taskId: String!) {\n    deleteTask(projId: $projId, id: $taskId) {\n      project {\n        ...projectFields\n      }\n    }\n  }\n"]);return la=function(){return e},e}function sa(){var e=Object($e.a)(["\n  ","\n\n  mutation editTask($projId: String!, $taskId: String!, $newTask: TaskInput!) {\n    editTask(projId: $projId, taskId: $taskId, task: $newTask) {\n      project {\n        ...projectFields\n      }\n      task {\n        ...taskFields\n      }\n    }\n  }\n"]);return sa=function(){return e},e}function ua(){var e=Object($e.a)(["\n  ","\n\n  mutation createTask(\n    $taskInfo: TaskInput!\n    $projId: String!\n    $listId: String!\n  ) {\n    createTask(taskInfo: $taskInfo, projId: $projId, listId: $listId) {\n      project {\n        ...projectFields\n      }\n\n      task {\n        ...taskFields\n      }\n    }\n  }\n"]);return ua=function(){return e},e}function da(){var e=Object($e.a)(["\n  ","\n\n  mutation setComment(\n    $projId: String!\n    $taskId: String!\n    $commentId: String\n    $description: String\n  ) {\n    setComment(\n      projId: $projId\n      taskId: $taskId\n      commentId: $commentId\n      description: $description\n    ) {\n      ...taskFields\n    }\n  }\n"]);return da=function(){return e},e}function ma(){var e=Object($e.a)(["\n  ","\n\n  mutation setSubtask(\n    $projId: String!\n    $taskId: String!\n    $subtaskId: String\n    $info: SubtaskInfo\n  ) {\n    setSubtask(\n      projId: $projId\n      taskId: $taskId\n      subtaskId: $subtaskId\n      info: $info\n    ) {\n      ...taskFields\n    }\n  }\n"]);return ma=function(){return e},e}var pa=Me()(ma(),Ge),ga=Me()(da(),Ge),fa=Me()(ua(),Ue),ba=Me()(sa(),Ue),Ea=(Me()(la(),Ue),Me()(ca(),Ue)),ja=function(e){var t=e.subTasks,n=e.onCheckbox,a=(e.taskId,e.show);return l.a.createElement("div",{style:{marginLeft:30}},l.a.createElement(ce.Transition,{initial:null,native:!0,items:a?t:[],keys:a?t.map(function(e){return e.id}):[],from:{opacity:1,height:0,overflow:"hidden"},enter:{opacity:1,height:"auto"},leave:{opacity:0,height:0,overflow:"hidden"}},function(e){return function(t){return l.a.createElement(ce.animated.div,{style:Object(E.a)({display:"flex",alignItems:"center"},t)},l.a.createElement("div",{style:{marginTop:6}},e.completed?l.a.createElement(na.a,{onClick:function(t){t.stopPropagation(),n(Object(E.a)({},e,{completed:!1}))}}):l.a.createElement(aa.a,{onClick:function(t){t.stopPropagation(),n(Object(E.a)({},e,{completed:!0}))}})),l.a.createElement("span",{style:{marginLeft:8}},e.name))}}))},ka={selectPomodoroTask:function(e){return{type:"SELECT_POMODORO_TASK",taskId:e}},stopSelectingMember:Pe,toggleTimer:J,selectMember:Pe,setSubtask:function(e){return{type:"SET_SUBTASK",id:e.id,projectId:e.projectId,newSubtask:e.newSubtask,taskId:e.taskId}}},ha=Object(q.a)(function(){return Object(B.a)({badgeColor:{backgroundColor:"#4caf50"},badge:{marginTop:15,marginRight:15},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0},play:{padding:6,marginRight:2,color:"rgba(0, 0, 0, 0.54)"}})})(Object(u.b)(function(e,t){return{isSelectingTask:e.pomodoro.selectingTask,isCurrentTask:e.pomodoro.selectedTaskId===t.task.id.toString(),pomodoro:e.pomodoro}},ka)(function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!0),s=Object(i.a)(o,2),u=s[0],d=s[1],m=Object(c.useState)(ta(e.task,!0)),p=Object(i.a)(m,2),g=p[0],f=p[1];ta(e.task,!0)!==g&&f(ta(e.task,!0)),function(e,t){var n=Object(c.useRef)(void 0);Object(c.useEffect)(function(){n.current=e}),Object(c.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){e.task.dueDate&&f(ta(e.task,!0))},1e3);var b=e.task,j=e.isSelectingTask,k=e.provided,h=e.snapshot,y=e.openFunc,v=Object(lt.a)(pa,{onCompleted:function(e){e.setSubtask||console.log("no subtask returned")},onError:function(){}}),O=Object(i.a)(v,1)[0];return b?l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("div",Object.assign({id:b.id.toString(),ref:k?k.innerRef:void 0},k.draggableProps,k.dragHandleProps,{style:Object(E.a)({minHeight:20,backgroundColor:b.color?b.color:"white",border:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"border"},k.draggableProps.style,{color:h&&h.isDragging?"gray":"black",outline:"none"}),onClick:function(){j?e.selectPomodoroTask(b.id.toString()):y()}}),l.a.createElement(Yn.a,{classes:{colorSecondary:e.classes.badgeColor,badge:e.classes.badge},color:"primary",badgeContent:b.points,style:{width:"100%",display:"flex",minHeight:20,outline:"none"}},l.a.createElement("div",{style:{margin:4,width:"100%",display:"block"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("span",{id:b.id,style:{fontSize:18,maxWidth:"94%",color:h&&h.isDragging?"gray":Qn(b.dueDate?new Date(b.dueDate):void 0)&&2!==b.progress?"#d32f24":"black",marginLeft:4,marginTop:4}},l.a.createElement("div",{style:{display:"flex"}},b.name?b.name:"Unnamed Task"))),l.a.createElement(ja,{show:u,subTasks:b.subTasks,taskId:b.id,onCheckbox:function(t){e.setSubtask({taskId:b.id,projectId:e.project.id,id:t.id,newSubtask:t}),O({variables:{projId:e.project.id,taskId:b.id,subtaskId:t.id,info:{name:t.name,completed:t.completed}}})}}),0!==b.comments.length&&l.a.createElement(ce.Transition,{initial:null,items:a,from:{height:0,overflow:"hidden"},enter:{height:"auto"},leave:{height:0,overflow:"hidden"}},function(e){return e&&function(e){return l.a.createElement(ce.animated.div,{style:Object(E.a)({marginLeft:6},e)},l.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,borderRadius:".8rem"}},b.comments.map(function(e){return l.a.createElement("div",{key:e.id,style:{color:"black"}},l.a.createElement("span",{style:{color:"rgba(0, 0, 0, 0.70)"}},ta(Object(E.a)({},b,{dueDate:e.dateAdded,recurrance:void 0}),!1).split("Due")[1]),"  -  ",e.comment)})))}}),b.dueDate&&2!==b.progress&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{marginLeft:6}},g)),l.a.createElement("div",{style:{display:"flex",cursor:"pointer"}},0!==Object.values(b.comments).length&&l.a.createElement(K.a,{className:e.classes.play,onClick:function(e){e.stopPropagation(),r(!a)}},l.a.createElement(ra.a,null)),0!==Object.values(b.subTasks).length&&l.a.createElement(K.a,{style:{marginRight:8},className:e.classes.play,onClick:function(e){e.stopPropagation(),d(!u)}},l.a.createElement(oa.a,null)),0!==b.timeWorkedOn&&l.a.createElement("span",{style:{alignSelf:"center"}},"Worked on for ",V(b.timeWorkedOn,!0)),e.isCurrentTask?l.a.createElement(ue.a,{style:{marginLeft:"auto"},className:e.classes.play,onClick:function(t){t.stopPropagation(),e.selectPomodoroTask(b.id),e.toggleTimer()}}):l.a.createElement(se.a,{style:{marginLeft:"auto"},className:e.classes.play,onClick:function(t){t.stopPropagation(),e.selectPomodoroTask(b.id),e.toggleTimer()}})))),0!==b.subTasks.length&&l.a.createElement(Jn.a,{style:{borderRadius:0},variant:"determinate",color:"secondary",value:2===b.progress?100:b.subTasks.filter(function(e){return e.completed}).length/b.subTasks.length*100}))):null})),ya=n(524),va=n(484),Oa=n(540),Ia=n(488),Ca={White:"#FFFFFF",Blue:"#c3ddff",Red:"#ffccd6",Yellow:"#ffffe0",Orange:"#ffe7b6",Purple:"#e2d2f2",cyan:"#dbfff2",Green:"#dcffc2",Magenta:"#ffe8ff",Brown:"#f1d6c2"},Ta=n(184),wa=n.n(Ta),Sa=function(e){var t=e.hasAllOption,n="linear-gradient(to right, ".concat(Object.values(Ca).slice(1).join(", "),")");return l.a.createElement(va.a,{fullWidth:!0},l.a.createElement(Oa.a,{fullWidth:!0,value:e.color,onChange:function(t){return e.onChange(t.target.value)}},t&&l.a.createElement(ya.a,{value:"all",selected:!1,style:{background:n}},"Any"),Object.keys(Ca).map(function(e,t){return l.a.createElement(ya.a,{selected:!1,style:{backgroundColor:Ca[e]||"white"},key:wa()(),value:Ca[e]},e)})),l.a.createElement(Ia.a,null,"Color"))},xa=n(261),La={setProject:Le},Pa=Object(u.b)(null,La)(function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)("#FFFFFF"),s=Object(i.a)(o,2),u=s[0],d=s[1],m=Object(c.useState)(0),p=Object(i.a)(m,2),g=p[0],f=p[1],b=Object(c.useState)(e.project.lists[0].id),E=Object(i.a)(b,2),j=E[0],k=E[1],h=Object(c.useState)(void 0),y=Object(i.a)(h,2),v=y[0],O=y[1],I=Object(lt.a)(fa,{onCompleted:function(t){var n=t.createTask;n&&n.task&&n.project&&e.setProject({id:n.project.id,newProj:n.project}),e.onClose()},onError:function(){return e.onClose()}}),C=Object(i.a)(I,1)[0];return l.a.createElement(xn.a,{open:!0,onClose:function(){return e.onClose()}},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),C({variables:{projId:e.project.id,listId:j,taskInfo:{points:g,color:u,name:a,dueDate:v?v.toString():void 0}}})}},l.a.createElement(H.a,null,"Create Task"),l.a.createElement(K.a,{style:{position:"absolute",right:8,top:8,color:"gray"},onClick:function(){return e.onClose()}},l.a.createElement(U.a,null)),l.a.createElement(Ln.a,null,l.a.createElement(Pn.a,null,'Tasks should be a small chunk of what you need to do. For example, if you needed to create a Youtube thumbnail, the first task would be: "Create Title"'),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto",marginTop:12}},l.a.createElement(ke.a,{style:{margin:"0 4px"},required:!0,autoFocus:!0,variant:"outlined",color:"secondary",label:"Title",value:a,onChange:function(e){var t=e.target;return r(t.value)},fullWidth:!0}),l.a.createElement(ke.a,{style:{margin:"0 4px",width:"33%"},required:!0,fullWidth:!0,variant:"outlined",label:"Points",value:g,type:"number",onChange:function(e){e.persist(),parseInt(e.target.value)>=0&&f(parseInt(e.target.value))}})),l.a.createElement("div",{style:{display:"flex",marginTop:20}},l.a.createElement(Sa,{color:u||"#FFFFFF",onChange:function(e){d(e)}}),l.a.createElement("div",{style:{width:24}}),l.a.createElement(va.a,{fullWidth:!0},l.a.createElement(Oa.a,{fullWidth:!0,value:j,onChange:function(e){k(e.target.value)}},e.project.lists.map(function(e,t){return l.a.createElement(ya.a,{key:e.id,value:e.id},l.a.createElement("pre",null,l.a.createElement("em",null,e.name)))})),l.a.createElement(Ia.a,null,"Task's List"))),l.a.createElement("div",{style:{display:"flex",marginTop:20}},l.a.createElement(xa.DateTimePicker,{dropUp:!0,containerClassName:"fullwidth",value:v,onChange:function(e){O(e)}}))),l.a.createElement(Dn.a,null,l.a.createElement(Z.a,{onClick:function(){return e.onClose()},color:"secondary"},"Cancel"),l.a.createElement(Z.a,{type:"submit",variant:"contained",color:"primary"},"Create Task"))))}),Da=n(525),Wa=function(e){var t=e.list.taskIds.map(function(t){return e.project.tasks[O(e.project.tasks,t)]}).filter(function(t){return t.progress===e.progress});2===e.progress&&(t=t);var n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(null),u=Object(i.a)(s,2),d=u[0],m=u[1],p=Object(c.useState)(null),g=Object(i.a)(p,2),f=g[0],b=g[1];return l.a.createElement("td",{style:{borderRight:"1px ".concat(2!==e.progress?"dashed":"solid"," #aebacc"),borderBottom:e.project.lists.findIndex(function(t){return e.list.id===t.id})===e.project.lists.length-1?"1px solid #aebacc":void 0,borderTop:"1px solid #aebacc",borderLeft:0===e.progress?"1px ".concat(e.progress?"dashed":"solid"," #aebacc"):void 0,width:"100%",padding:e.collapsedLists.includes(e.list.id)?"0px 8px":8,maxHeight:e.collapsedLists.includes(e.list.id)?100:"60vh",overflowY:"auto"}},0===e.progress&&l.a.createElement("div",{style:{display:"flex",margin:4}},e.collapsedLists.includes(e.list.id)&&l.a.createElement("h2",{style:{fontSize:16,margin:"auto 8px auto 0px",color:"gray"}},"[Collapsed]"),l.a.createElement("h2",{style:{margin:"auto 0px",fontSize:18}},e.list.name),l.a.createElement(K.a,{onClick:function(e){return m(e.currentTarget)},style:{marginLeft:"auto"}},l.a.createElement(Da.a,null)),!e.collapsedLists.includes(e.list.id)&&l.a.createElement(K.a,{color:"primary",style:{marginLeft:8},onClick:function(){return o("string")}},l.a.createElement(ee.a,null)),l.a.createElement(_t.a,{id:"simple-menu",anchorEl:d,open:Boolean(d),onClose:function(){return m(null)}},l.a.createElement(ya.a,{onClick:function(){m(null),e.collapseList(e.list.id)}},e.collapsedLists.includes(e.list.id)?"Uncollapse":"Collapse"),l.a.createElement(ya.a,{onClick:function(){m(null)}},"Edit"),l.a.createElement(ya.a,{onClick:function(){f&&e.project.lists.length>1?(m(null),e.deleteList(e.list.id)):(b(!0),setTimeout(function(){return b(!1)},4e3))}},f?l.a.createElement("div",{style:{color:"red",fontWeight:500}},"Confirm"):"Delete"))),l.a.createElement(Kn.c,{isDropDisabled:e.collapsedLists.includes(e.list.id),droppableId:"".concat(e.list.id,"DIVIDER").concat(e.progress)},function(n,a){return l.a.createElement("div",Object.assign({style:{flexDirection:"column",display:"flex",minHeight:e.collapsedLists.includes(e.list.id)?0:78,height:"calc(100% - ".concat(e.progress?"78px":"178px",")"),backgroundColor:"white",paddingBottom:e.collapsedLists.includes(e.list.id)?0:78}},n.droppableProps,{ref:n.innerRef}),e.collapsedLists.includes(e.list.id)?null:t.map(function(t,n){return l.a.createElement(Kn.b,{draggableId:t.id,index:n,key:t.id},function(n,a){return l.a.createElement(ha,{openFunc:function(){return e.openFunc(t.id)},project:e.project,task:t,provided:n,snapshot:a})})}),n.placeholder)}),r&&l.a.createElement(Pa,{onClose:function(){return o("")},project:e.project,listId:e.project.lists[0].id,columnId:r}))},Ra=n(109),Fa=n(541),Na=n(265),$a=n.n(Na),Aa=n(130),Ma=n.n(Aa),Ba={setTask:ia,setProject:Le},_a=Object(u.b)(function(e,t){var n=e.projects[O(e.projects,t.projectId)];return{task:n.tasks[O(n.tasks,t.taskId)],projects:e.projects}},Ba)(function(e){var t=Object(c.useState)(Object(v.cloneDeep)(e.task)),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(lt.a)(pa,{onCompleted:function(t){var n=t.setSubtask;e.setTask({id:n.id,projectId:e.projectId,newTask:Object(E.a)({},n)})}}),s=Object(i.a)(o,1)[0],u=Object(lt.a)(ga,{onCompleted:function(t){var n=t.setComment;r(Object(E.a)({},n)),e.setTask({id:n.id,projectId:e.projectId,newTask:Object(E.a)({},n)})}}),d=Object(i.a)(u,1)[0],m=Object(lt.a)(ba,{variables:{taskId:e.taskId,newTask:{name:a.name,points:a.points,dueDate:a.dueDate,color:a.color},projId:e.projectId}}),p=Object(i.a)(m,1)[0],g=Object(lt.a)(Ea,{onCompleted:function(t){var n=t.dragTask;e.setProject({id:n.project.id,newProj:n.project})}}),f=Object(i.a)(g,1)[0],b=e.projects[O(e.projects,e.projectId)],j=b.lists.find(function(e){return e.taskIds.includes(a.id)}).id,k=Object(c.useState)(j),h=Object(i.a)(k,2),I=h[0],C=h[1];return l.a.createElement("div",null,l.a.createElement(xn.a,{open:!0,onClose:function(){return e.onClose()}},l.a.createElement("form",{onSubmit:function(t){if(e.setTask({id:e.task.id,projectId:e.projectId,newTask:a}),console.log(a),p(),I!==j){var n=0,r=b.tasks.filter(function(e){return b.lists[O(b.lists,I)].taskIds.includes(a.id)&&a.progress===e.progress});if(r.length){var o=r.map(function(e){return b.lists[O(b.lists,I)].taskIds.indexOf(e.id)});n=Math.min.apply(Math,Object(y.a)(o))}f({variables:{oldListId:j,newListId:I,newIndex:n,id:a.id,newProgress:a.progress,projectId:e.projectId}})}t.preventDefault(),e.onClose()},style:{minWidth:550,minHeight:450,padding:"0px 16px",paddingBottom:12}},l.a.createElement(H.a,{style:{paddingLeft:"0px"}},"Edit Task"),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto"}},l.a.createElement(ke.a,{style:{margin:"0 4px"},required:!0,autoFocus:!0,variant:"outlined",color:"secondary",label:"Title",value:a.name,onChange:function(e){var t=e.target;return r(Object(E.a)({},a,{name:t.value}))},fullWidth:!0}),l.a.createElement(ke.a,{style:{margin:"0 4px",width:"33%"},required:!0,fullWidth:!0,variant:"outlined",label:"Points",value:a.points,type:"number",onChange:function(e){e.persist(),parseInt(e.target.value)>=0&&r(Object(E.a)({},a,{points:parseInt(e.target.value)}))}})),l.a.createElement("div",{style:{display:"flex",marginTop:8}},l.a.createElement(Sa,{color:a.color||"#FFFFFF",onChange:function(e){r(Object(E.a)({},a,{color:e}))}}),l.a.createElement("div",{style:{width:24}}),l.a.createElement(va.a,{fullWidth:!0},l.a.createElement(Oa.a,{fullWidth:!0,value:I,onChange:function(e){C(e.target.value)}},function(e){var t=[];return e.map(function(e){t=[].concat(Object(y.a)(t),Object(y.a)(e.lists))}),t}(e.projects).map(function(t,n){return l.a.createElement(ya.a,{key:t.id,value:t.id},l.a.createElement("pre",null,l.a.createElement("em",null,t.name)," of"," ",e.projects[O(e.projects,e.projectId)].name))})),l.a.createElement(Ia.a,null,"Task's List"))),l.a.createElement("div",{style:{display:"flex",marginTop:8}},l.a.createElement(Ma.a,{containerClassName:"fullwidth",value:a.dueDate?new Date(a.dueDate):void 0,onChange:function(e){r(Object(E.a)({},a,{dueDate:e?e.toString():null}))}})),l.a.createElement(je.a,{style:{marginTop:12,fontSize:22},variant:"subtitle1"},"Subtasks"),a.subTasks.map(function(t,n){return l.a.createElement("div",{key:t.id,style:{display:"flex",marginTop:8}},l.a.createElement(Fa.a,{style:{marginRight:10,width:32,height:32},disableRipple:!0,checked:a.subTasks[n].completed,onChange:function(o){var i=Object(y.a)(a.subTasks),c=!i[n].completed;i[n].completed=c,r(Object(E.a)({},a,{subTasks:i})),s({variables:{projId:e.projectId,taskId:e.task.id,subtaskId:t.id,info:{name:a.subTasks[n].name,completed:c}}})}}),l.a.createElement(ke.a,{key:t.id,margin:"none",required:!0,fullWidth:!0,label:"Subtask ".concat(n),value:a.subTasks[n].name,onBlur:function(r){s({variables:{projId:e.projectId,taskId:e.task.id,subtaskId:t.id,info:{name:a.subTasks[n].name,completed:t.completed}}})},onChange:function(e){r(Object(E.a)({},a,{subTasks:[].concat(Object(y.a)(a.subTasks.slice(0,n)),[Object(E.a)({},a.subTasks[n],{name:e.target.value})],Object(y.a)(a.subTasks.slice(n+1)))}))}}),l.a.createElement(K.a,{style:{marginLeft:10,width:48,height:48,marginTop:"auto"},onClick:function(){r(Object(E.a)({},a,{subTasks:a.subTasks.filter(function(e){return e.id!==a.subTasks[n].id})})),s({variables:{projId:e.projectId,taskId:e.task.id,subtaskId:t.id,info:null}})}},l.a.createElement(Gn.a,null)))}),l.a.createElement(Z.a,{variant:"outlined",style:{marginTop:8,marginBottom:8,marginLeft:"auto"},onClick:function(){var t=$a()();r(Object(E.a)({},a,{subTasks:[].concat(Object(y.a)(a.subTasks),[{id:t,completed:!1,name:"Subtask Name"}])})),s({variables:{projId:e.projectId,taskId:e.task.id,subtaskId:t,info:{name:"Subtask Name",completed:!1}}})}},l.a.createElement(ee.a,{style:{marginRight:8}}),"add subtask"),l.a.createElement(je.a,{style:{marginTop:12,fontSize:22},variant:"subtitle1"},"Comments"),a.comments.map(function(t,n){return l.a.createElement("div",{key:t.id,style:{marginTop:8,display:"flex"}},l.a.createElement(ke.a,{key:t.id,margin:"dense",onBlur:function(r){d({variables:{projId:e.projectId,taskId:e.task.id,commentId:t.id,description:a.comments[n].comment}})},required:!0,placeholder:"Comment Name",fullWidth:!0,value:a.comments[n].comment,label:ta(Object(E.a)({},a,{dueDate:t.dateAdded,recurrance:void 0})).slice(4),onChange:function(e){var t=Object(y.a)(a.comments);t[n].comment=e.target.value,r(Object(E.a)({},a,{comments:t}))}}),l.a.createElement(K.a,{style:{marginLeft:10,marginTop:"auto",width:48,height:48},onClick:function(){d({variables:{projId:e.projectId,taskId:e.task.id,commentId:t.id}})}},l.a.createElement(Gn.a,null)))}),l.a.createElement(Z.a,{variant:"outlined",onClick:function(){d({variables:{projId:e.projectId,taskId:e.task.id,description:"Comment"}})},style:{marginTop:8}},l.a.createElement(ee.a,{style:{marginRight:8}}),"Add Comment"),l.a.createElement("div",{style:{display:"flex",marginTop:8,justifyContent:"flex-end"}},l.a.createElement(Z.a,{color:"secondary",type:"submit",variant:"contained"},"Save")))))}),Ha=function(e){return e.innerWidth<=1e3},Ka={setProject:Le,selectMember:Pe,openSnackbar:Ce,setList:Wn},za=Object(q.a)(function(e){return Object(B.a)({fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},tooltip:{fontSize:18},appbar:{},input:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:"20%",fontSize:18,outline:"none",backgroundColor:"#f5f5f5",borderRadius:4,width:"auto",padding:8,border:"1px solid transparent","&:hover":{backgroundColor:"white"},"&:focus":{borderColor:"#27b6ba"}}})})(Object(u.b)(function(e,t){return{project:e.projects[O(e.projects,t.params.id)]}},Ka)(function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),s=Object(i.a)(o,2),u=s[0],d=s[1],m=Object(c.useState)(!1),p=Object(i.a)(m,2),g=p[0],f=p[1],b=Object(c.useState)(Ha(window)),E=Object(i.a)(b,2),j=(E[0],E[1]),k=Object(c.useState)([]),h=Object(i.a)(k,2),v=h[0],I=h[1],C=Object(c.useState)(e.project?e.project.name:void 0),T=Object(i.a)(C,2),w=T[0],S=T[1],x=Object(lt.a)(An,{}),L=Object(i.a)(x,1)[0],P=Object(lt.a)(Ea,{}),D=Object(i.a)(P,1)[0],W=Object(c.useState)(window.innerWidth),R=Object(i.a)(W,2),F=R[0],N=R[1];l.a.useEffect(function(){return window.addEventListener("resize",function(){j(Ha(window)),N(window.innerWidth)}),function(){return window.removeEventListener("resize",function(){j(Ha(window)),N(window.innerWidth)})}},[]);var $=Object(lt.a)(gt,{}),A=Object(i.a)($,1)[0],M=e.classes,B=e.project;return B?l.a.createElement("div",null,l.a.createElement(we.a,null,l.a.createElement("style",{type:"text/css"}," body { background-color: #1d364c; }"),l.a.createElement("meta",{name:"description",content:"Projects help you become stronk"})),l.a.createElement(At.a,{color:"default",className:M.appbar,position:"static"},l.a.createElement($t.a,null,l.a.createElement("input",{style:{width:"".concat(F-300,"px")},className:M.input,value:w,onBlur:function(){return A({variables:{newProj:{name:w||"newname"},id:B.id}})},onChange:function(e){return S(e.target.value)}}),l.a.createElement("div",{style:{marginLeft:"auto"}},l.a.createElement(K.a,{onClick:function(){return null}},l.a.createElement(_n.a,null)),l.a.createElement(K.a,{onClick:function(){return d(!0)},style:{marginLeft:8}},l.a.createElement(Y.a,null)),l.a.createElement(K.a,{style:{marginLeft:8}},l.a.createElement(Hn.a,null))))),l.a.createElement(re.a,{style:{margin:20,padding:20,paddingBottom:80,minHeight:"calc(100vh - 328px)"}},l.a.createElement(Kn.a,{onDragEnd:function(t){if(t.destination&&(t.source.droppableId!==t.destination.droppableId||t.source.index!==t.destination.index)){var n,a=[t.source.droppableId.split("DIVIDER"),t.destination.droppableId.split("DIVIDER")],r=Object(i.a)(a[0],1)[0],o=Object(i.a)(a[1],2),c=o[0],l=o[1],s=Object(Ra.a)(e.project),u=s.lists[O(s.lists,r)],d=s.lists[O(s.lists,c)],m=t.destination.index+e.project.tasks.reduce(function(e,t){return t.progress<parseInt(l,10)&&d.taskIds.includes(t.id)?e+1:e},0);u.id===d.id&&e.project.tasks[O(e.project.tasks,t.draggableId)].progress!==parseInt(l,10)&&m>u.taskIds.findIndex(function(e){return e===t.draggableId})&&(m-=1),m<0&&(m=0),u.taskIds=u.taskIds.filter(function(e){return e!==t.draggableId}),d.taskIds.splice(m,0,t.draggableId),s.tasks[O(s.tasks,t.draggableId)].progress=parseInt(l,10),e.setProject({id:e.project.id,newProj:s}),n={id:t.draggableId,newIndex:m,oldListId:r,newListId:c,newProgress:parseInt(l),projectId:e.project.id},D({variables:n})}}},l.a.createElement("table",{style:{tableLayout:"fixed",width:"100%",borderCollapse:"separate"}},l.a.createElement(It.a,null,l.a.createElement("tr",{style:{display:"flex"}},[0,1,2].map(function(e){return l.a.createElement("td",{key:e,style:{width:"100%",backgroundColor:"#f2f2f2",borderLeft:e?"none":"1px solid #aebacc",borderRight:"1px solid #aebacc",borderTop:"1px solid #aebacc",textAlign:"center",padding:8,fontSize:20}},0===e?"No Progress":1===e?"In Progress":"Complete")})),B.lists.map(function(t){return l.a.createElement("tr",{style:{verticalAlign:"top",display:"flex"},key:t.id},[0,1,2].map(function(n,a){return l.a.createElement(Wa,{deleteList:function(n){e.setList({id:n,projectId:e.project.id,newList:null}),L({variables:{projectId:e.project.id,id:t.id}})},collapseList:function(e){v.includes(e)?I(v.filter(function(t){return e!==t})):I([].concat(Object(y.a)(v),[e]))},collapsedLists:v,openFunc:function(e){return r(e)},key:a,progress:n,list:t,project:B})}))})))),g&&l.a.createElement(Bn,{onClose:function(){return f(!1)},project:B})),l.a.createElement(Ht.a,{placement:"left",classes:{tooltip:M.tooltip},title:"Add List"},l.a.createElement(jt.a,{onClick:function(){return f(!0)},color:"primary",className:M.fab},l.a.createElement(ee.a,null))),u&&l.a.createElement(Un,{project:e.project,onClose:function(){return d(!1)}}),a&&l.a.createElement(_a,{taskId:a,onClose:function(){return r("")},projectId:e.project.id})):l.a.createElement(Et,null)})),Ga={openSnackbar:Ce},qa=Object(u.b)(null,Object(E.a)({},Ga))(Object(q.a)(function(e){return Object(B.a)({root:{maxWidth:1e3,marginLeft:"auto",marginRight:"auto",backgroundColor:e.palette.background.paper,width:"95%",marginTop:50}})})(function(e){var t=e.classes;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(Te.Helmet,null,l.a.createElement("style",null,"body { background-color: #eeeeee; }")),l.a.createElement(zt.a,{subheader:l.a.createElement(Xt.a,null,"Data"),className:t.root},l.a.createElement(Gt.a,null,l.a.createElement(Ut.a,{primary:"Log Out",secondary:"This action cannot be undone"}),l.a.createElement(Ne.a,{mutation:at,onCompleted:function(){location.href="#/",location.reload()},onError:function(){e.openSnackbar("You are stuck here forever, oops!","error")}},function(e,t){return l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e({variables:{}})},style:{marginLeft:"auto"}},"Log Out")})))))})),Ua=n(533),Ya=n(266),Ja=n(529),Va=n(530),Xa=n(531),Qa=n(532);var Za=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],er=Object(q.a)(function(e){return{}})(Object(u.b)(function(e,t){return{tasks:e.projects.reduce(function(e,t){return[].concat(Object(y.a)(e),Object(y.a)(t.tasks))},[]),projects:e.projects}})(function(e){var t,n,a=e.day,r=e.tasks,o=e.index,i=Object(Ja.a)(Object(Va.a)(a,20)),c=r.filter(function(e){return void 0!==e.dueDate&&Object(Xa.a)(new Date(e.dueDate))===Object(Xa.a)(a)});return c.length&&c.sort(function(e,t){return new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()}),l.a.createElement("div",{style:{borderRight:6!==o?"1px solid #e0e0e0":void 0,flex:"1 0 calc(1000px / 7)"}},l.a.createElement("div",{style:{position:"absolute",fontSize:"3.2rem",fontWeight:300,margin:"0 0 0 .8rem",paddingBottom:".4rem",color:(t=a,n=new Date,t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()?"#4285f4":"#555")}},a.getDate(),l.a.createElement("div",{style:{fontSize:"1.3rem"}},Za[Object(Qa.a)(a)])),l.a.createElement(Kn.c,{isDropDisabled:i,droppableId:a.getTime().toString()},function(t,n){return l.a.createElement("div",Object.assign({style:{backgroundColor:n.isDraggingOver?"#bae3ff":"white",transition:"background-color .2s ease",height:"100%"}},t.droppableProps,{ref:t.innerRef}),c.map(function(t,n){return l.a.createElement(Kn.b,{key:t.id,index:n,draggableId:t.id.toString()},function(a,r){return l.a.createElement("div",{style:{paddingTop:n?0:93}},l.a.createElement(ha,{project:e.projects[O(e.projects,T(e.projects,t.id))],openFunc:function(){return null},provided:a,snapshot:r,task:t}))})}),t.placeholder)}))})),tr=n(534),nr=n(535),ar={alignItems:"center",flex:1,display:"flex",justifyContent:"center"},rr=Object(q.a)(function(e){var t;return Object(B.a)({nav:(t={},Object(Oe.a)(t,e.breakpoints.up(750),Object(E.a)({},ar)),Object(Oe.a)(t,e.breakpoints.down(750),{marginRight:"auto"}),t)})})(function(e){var t=e.projects,n=e.toggleProject,a=e.currIds;return console.log(e),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(Oa.a,{style:Object(E.a)({maxWidth:"30%"},ar),value:0===a.length?["-1"]:a,onChange:function(e){var t=e.target.value.filter(function(e){return"-1"!==e});n(e.target.value.includes("-1")&&!a.includes("-1")||0===t.length?["-1"]:t)},multiple:!0},l.a.createElement(ya.a,{value:-1},"All Projects"),Object.values(t).map(function(e){return l.a.createElement(ya.a,{key:e.id,value:e.id},e.name)})),l.a.createElement("div",{className:e.classes.nav},l.a.createElement(K.a,{onClick:function(){return e.setDate(Object(Ua.a)(e.startDay,6))}},l.a.createElement(tr.a,null)),l.a.createElement("span",{style:{margin:"10px"}},"".concat(Object(Vn.a)(e.startDay,"MMM d")," - ").concat(Object(Vn.a)(Object(Ya.a)(e.startDay,6),"MMM d"))),l.a.createElement(K.a,{onClick:function(){return e.setDate(Object(Ya.a)(e.startDay,8))}},l.a.createElement(nr.a,null))),window.innerWidth>=750&&l.a.createElement("div",{style:ar}))}),or=n(549),ir=Object(q.a)(function(e){return Object(B.a)({dragContainer:{border:"1px solid #dadce0",borderRadius:".8rem",overflowX:"hidden",marginTop:10},tasksContainer:{minHeight:200,overflowX:"auto",display:"flex",flex:"1 1 auto"}})})(function(e){var t=Object(c.useState)(["-1"]),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(new Date),s=Object(i.a)(o,2),u=s[0],d=s[1],m=e.projects.reduce(function(e,t){return[].concat(Object(y.a)(e),Object(y.a)(t.tasks))},[]),p=Boolean(m.filter(function(e){return void 0!==e.dueDate}).length),g=function(e){for(var t=[Object(Ua.a)(e,1),e],n=0;n<5;n++)t.push(Object(Ya.a)(e,n+1));return t}(u);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{margin:20}},l.a.createElement(rr,{startDay:g[0],currIds:a,projects:e.projects,toggleProject:function(e){r(e)},setDate:function(e){return d(e)}}),l.a.createElement(Kn.a,{onDragEnd:function(t){var n=t.source,a=t.destination,r=t.draggableId;if(a&&n.droppableId!==a.droppableId){var o=m[O(m,r)],i=Object(E.a)({},o,{dueDate:function(e){var t=new Date(parseInt(a.droppableId)),n=Object(or.a)(t,new Date(e));return Object(Ya.a)(new Date(e),n).toString()}(m[O(m,r)].dueDate)});e.setTask({id:r,newTask:i,projectId:T(e.projects,r)})}}},l.a.createElement("div",{className:e.classes.dragContainer},l.a.createElement("div",{className:e.classes.tasksContainer},g.map(function(e,t){return l.a.createElement(er,{filteringProjects:a,day:e,key:t,index:t})}))))),p&&l.a.createElement("h1",{style:{margin:"20px auto",textAlign:"center"}},"You have no tasks with due dates"))}),cr={setTask:ia},lr=Object(u.b)(function(e){return{projects:e.projects}},cr)(ir),sr=n(185),ur=n.n(sr);n(436);n.d(t,"fabStyle",function(){return mr}),n.d(t,"Wrapper",function(){return gr});var dr=Object(M.a)({palette:{primary:{main:"#00838f"},secondary:{main:"#0336FF"}}}),mr={position:"fixed",bottom:dr.spacing(2),left:dr.spacing(2),zIndex:999},pr=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),u=Object(i.a)(s,2),d=u[0],g=u[1];return window.onload=Object(o.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De(Object(jn.a)(nt));case 3:t=e.sent,(n=t.loginWithCookie)&&n.user?A.dispatch(Fe(n.user)):A.dispatch(Ce("Hey there, Welcome!","standard")),g(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g(!0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),l.a.createElement(m.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(nn,null),l.a.createElement(be,{open:n,stateFunc:function(e){return a(e)}}),!n&&l.a.createElement(l.a.Fragment,null,l.a.createElement(jt.a,{style:mr,color:"secondary",onClick:function(){return a(!0)}},l.a.createElement(kt.a,null))),d?l.a.createElement(p.d,null,l.a.createElement(wn,{exact:!0,path:"/settings",component:qa,componentProps:{}}),l.a.createElement(wn,{exact:!0,path:"/calendar",component:lr,componentProps:{}}),l.a.createElement(Sn,{exact:!0,path:"/login",component:it,componentProps:{authType:"Login"}}),l.a.createElement(Sn,{exact:!0,path:"/register",component:it,componentProps:{authType:"Register"}}),l.a.createElement(wn,{exact:!0,path:"/create-project",component:bt,componentProps:{}}),l.a.createElement(wn,{exact:!0,path:"/project/:id",component:za,componentProps:{}}),l.a.createElement(Sn,{exact:!0,path:"/",component:Rt,componentProps:function(){return{}}}),l.a.createElement(p.b,{component:Et})):l.a.createElement("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"space-around"}},l.a.createElement(ye.a,{style:{width:"128px",height:"128px",marginRight:64,marginTop:100}}))))},gr=function(){return l.a.createElement(u.a,{store:A},l.a.createElement(En.a,{client:In},l.a.createElement(d.a,{theme:dr},l.a.createElement(bn,null),l.a.createElement(pr,null))))},fr=n(437);ur.a.locale("en"),fr(),Object(s.render)(l.a.createElement(gr,null),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.1949ac17.chunk.js.map